spring.application.name=personal-portal

# CORS configuration
# Production: Set to your proxy/domain (e.g., "https://yourdomain.com" or "http://proxy-host:8080")
# Development: Set to frontend origin (e.g., "http://localhost:4173")
# Multiple origins: Use comma-separated list (e.g., "http://localhost:4173,http://localhost:3000")
# Wildcard "*" disables credentials (not recommended for JWT auth)
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:*}

# Database configuration
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5422/personal_portal}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.datasource.hikari.auto-commit=false

# Flyway configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0

# Admin user configuration (for testing - use env variables in production)
admin.user.email=${ADMIN_USER_EMAIL:admin@example.com}
admin.user.password=${ADMIN_USER_PASSWORD:admin123}

# Object Storage Configuration (S3-compatible)
# Supports AWS S3 and any S3-compatible provider (Cloudflare R2, DigitalOcean Spaces, MinIO, Backblaze B2, etc.)
#
# For AWS S3: Leave endpoint empty, set region to AWS region (e.g., us-east-1)
# For Cloudflare R2: Set endpoint to https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com, region to "auto"
# For DigitalOcean Spaces: Set endpoint to https://REGION.digitaloceanspaces.com, region to your space region
# For MinIO: Set endpoint to http://localhost:9000 (or your MinIO URL), enable path-style-access
#
cloud.aws.region.static=${CLOUD_AWS_REGION_STATIC:us-east-1}
cloud.aws.credentials.access-key=${CLOUD_AWS_CREDENTIALS_ACCESS_KEY:}
cloud.aws.credentials.secret-key=${CLOUD_AWS_CREDENTIALS_SECRET_KEY:}

# Custom endpoint for S3-compatible providers (leave empty for AWS S3)
cloud.aws.s3.endpoint=${CLOUD_AWS_S3_ENDPOINT:}

# Path-style access (required by some providers like MinIO)
# Set to true if your provider requires path-style URLs (bucket.endpoint vs endpoint/bucket)
cloud.aws.s3.path-style-access=${CLOUD_AWS_S3_PATH_STYLE_ACCESS:false}

# Bucket name
aws.s3.bucket-name=${AWS_S3_BUCKET_NAME:}
app.frontend.url=${APP_FRONTEND_URL:http://localhost:5173}

# Email Configuration
# Defaults to Mailpit for local development (no auth required)
# For production, override SPRING_MAIL_* environment variables
spring.mail.host=${SPRING_MAIL_HOST:localhost}
spring.mail.port=${SPRING_MAIL_PORT:1025}
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH:false}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE:false}
spring.mail.properties.mail.smtp.starttls.required=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_REQUIRED:false}
spring.mail.from.email=${SPRING_MAIL_FROM_EMAIL:noreply@personal-portal.com}
spring.mail.from.name=${SPRING_MAIL_FROM_NAME:Personal Portal}

